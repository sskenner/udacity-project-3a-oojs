<!-- *HTML Canvas -->
<!-- .Lesson 1: HTML5 Canvas Basics -->
<!-- ..Favorite Meme -->
<!-- ..Creating a canvas -->
<!-- ..Coordinate System -->

<!DOCTYPE HTML>

<html>
  <head>
  </head>
    <body>
      <canvas id="c" width="200" height="200"></canvas>

      <script>
        var c = document.querySelector("#c");
        var ctx = c.getContext("2d");

        var image = new Image();

        image.onload = function() {
          console.log("Loaded image");
          ctx.drawImage(image, 0, 0, c.width, c.height);
        }

        image.src = "fire-hands.jpg";

      </script>
    </body>
</html>

<!-- ..Create a local webserver -->
<!--
In the previous morsel, we received the following error message because we weren't directly hosting the images we wanted to display.

Uncaught SecurityError: Failed to execute 'toDataURL' on
'HTMLCanvasElement': Tainted canvases may not be exported.

There are couple of ways to get around this error and one (optionally) is to start a local web server.

Using Python SimpleHTTPServer

The simplest way is to use SimpleHTTPServer if you already have Python installed.

Python comes already installed on most Mac OS X and Linux computers. In a terminal window, change to the directory that has your HTML files and run the following command:

python -m SimpleHTTPServer

After it starts, you can navigate to http://0.0.0.0:8000/index.html

Using MAMP / MAMP Pro

MAMP is an integrated server environment containing executables for running a web server, a database, and several programming languages. MAMP stands for Mac OS X, Apache, MySQL, and PHP/Perl/Python. Though it was originally developed for the Mac, there are versions that run on Windows.

After installing MAMP, open it and start the server.

Go to settings and set the directory to where you have saved your HTML files.

Navigate to http://localhost:8888/MAMP/index.html
 -->

<!-- ..Drawing Rectangles -->

<!-- ..Paths -->

<!-- ..Moving Objects in a Canvas -->

<!--
So far, we’ve been drawing everything using exact coordinates. This is fine for a couple shapes but breaks down if you need to draw a bunch of objects.

Canvas2D allows you to translate (move), rotate, or scale objects.
Scaling

scale(x,y) multiplies the x and y values by a given factor so

ctx.scale(2,3);

will make all values twice as large on the x axis and three times as large on the y axis.
Translation

translate(x,y) moves all subsequent draw commands by x number of pixels on horizontally and y pixels vertically.

ctx.translate(20,40); moves all elements drawn after it 20 pixels to the rights and 40 pixels down.
Rotation

ctx.rotate(angleRadians) rotates an object a certain number of radians (generally) about its center. You probably may have learned about radians in school but here's a handy formula to convert a value from degrees to radians.

radians = degrees * (Math.PI/180)

Don't ask us why everything in Computer Graphics uses radians. We have no idea. :)
Order of operations

You should generally scale objects first, rotate them next, and then finally translate last. There are times when you'd want to rotate around an arbitrary point instead of an object's center, that's out of scope for this lesson.

It’s important to note that whatever transformations apply for all subsequent objects until you reverse them.
 -->

<!-- BEGIN reference- http://www.sitepoint.com/html5-canvas-tutorial-introduction/ -->
<!--.HTML5 Canvas Tutorial: An Introduction-->
<!--..Canvas Rendering Contexts-->
<!DOCTYPE HTML>

<html>
  <head>
  </head>
    <body>
      <canvas id="exampleCanvas" width="500" height="300">
        <!-- OPTION 1: leave a message here if browser doesn't support canvas -->
          <p>your browser doesn't currently support HTML5 Canvas. Please check 'caniuse.com/#feat=canvas' for information on browser support for canvas.</p>
        <!-- OPTION 2: put fallback content (text, image, Flash, etc.) if the browser doesn't support canvas -->
      </canvas>

      <script>
        var canvas = document.getElementById('exampleCanvas'),
            context = canvas.getContext('2d');
            
            // ..
      </script>
    </body>
</html>

<!--..HTML5 canvas element size vs. drawing surface size-->
<!--..Understanding the Canvas Coordinate System-->

<!--.Basic Canvas Examples-->
<!--..Drawing Lines-->
<script>
  var canvas = document.getElementById('exampleCanvas'),
    context = canvas.getContext('2d');

  context.beginPath();
  context.moveTo(50, 50);
  context.lineTo(250, 150);
  context.stroke();
</script>

<!--..Draw Rectangle-->
<script>
  var canvas = document.getElementById('exampleCanvas'),
    context = canvas.getContext('2d');

  context.beginPath();
  context.moveTo(50, 50);
  context.lineTo(250, 150);
  context.stroke();
</script>

<!--..Draw Text-->
<script>
  context.font = 'italic 40pt Calibri, sans-serif';
  context.fillText('hello world', 50, 50);
</script>>

<!-- END reference- http://www.sitepoint.com/html5-canvas-tutorial-introduction/ -->

<!-- BEGIN reference- https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial -->
<!--*Canvas Tutorial-->
<!--**Basic usage of canvas-->
<!--.The <canvas> element-->
<canvas id="tutorial" width="150" height="150"></canvas>

<!--..Fallback Content-->
<!--..Required </canvas> tag-->

<!--.The rendering context-->
<script>
  var canvas = document.getElementById('tutorial'),
      ctx = canvas.getContext('2d');
</script>>

<!--.Checking for support-->
<script>
  var canvas = document.getElementById('tutorial'),
      if (canvas.getContext){
        var ctx = canvas.getContext('2d');
        // drawing code here
      } else {
        // canvas-unsupported code here
      }
</script>>

<!--.A Skeleton Template-->
<!DOCTYPE HTML>

<html>
  <head>
    <meta charset="utf-8"/>
    <title>canvas tutorial</title>
    <script type="text/javascript">
      function draw(){
        var canvas = document.getElementById('tutorial');
        if (canvas.getContext){
          var ctx = canvas.getContext('2d');
        }
      }
    </script>
    <style type="text/css">
      canvas { boder: 1px solid black; }
    </style>
  </head>
  <body onload="draw();">
    <canvas id="tutorial" width="150" height="150"></canvas>
  </body>
</html>

<!--.A simple example-->

  <!-- BEGIN reference- http://www.w3schools.com/tags/canvas_fillstyle.asp -->
  <script>
    var c=document.getElementById("myCanvas");
    var ctx=c.getContext("2d");
    ctx.fillStyle="#FF0000";
    ctx.fillRect(20,20,150,100);
  </script>
  <!--///-->
  <script>
    var c=document.getElementById("myCanvas");
    var ctx=c.getContext("2d");
    var my_gradient=ctx.createLinearGradient(0,0,0,170);
    my_gradient.addColorStop(0,"black");
    my_gradient.addColorStop(1,"white");
    ctx.fillStyle=my_gradient;
    ctx.fillRect(20,20,150,100);
  </script>
  <!-- END reference- http://www.w3schools.com/tags/canvas_fillstyle.asp -->
<!DOCTYPE HTML>

<html>
  <head>
    <meta charset="utf-8"/>
    <!--<title>canvas tutorial:simple ex.</title>-->
    <script type="application/javascript">
      function draw(){
        var canvas = document.getElementById('canvas');
        if (canvas.getContext){
          var ctx = canvas.getContext('2d');

          ctx.fillStyle = "rgb(200,0,0)";
          ctx.fillRect(10,10,55,50);

          ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
          ctx.fillRect(30, 30, 55, 50);
        }
      }
    </script>
  </head>
  <body onload="draw();">
    <canvas id="canvas" width="150" height="150"></canvas>
  </body>
</html>

<!--**Drawing shapes w canvas-->
<!--.The grid-->
<!--.Drawing rectangles-->
<!--..Rectangular shape example-->
<script>
  function draw(){
    var canvas = document.getElementById('tutorial');
    if (canvas.getContext){
      var ctx = canvas.getContext('2d');
      
      ctx.fillRect(25,25,100,100);
      ctx.clearRect(45,45,60,60);
      ctx.strokeRect(50,50,50,50);
    }
  }
</script>

<!--.Drawing paths-->
<!--..Drawing a triangle-->
<script>
  function draw(){
    var canvas = document.getElementById('canvas');
    if (canvas.getContext){
      var ctx = canvas.getContext('2d');

      var path=new Path2D();
      path.moveTo(75,50);
      path.lineTo(100,75);
      path.lineTo(100,25);
      ctx.fill(path);
    }
  }
</script>

<!--..Moving the pen-->
<script>
  function draw(){
    var canvas = document.getElementById('canvas');
    if (canvas.getContext) {
      var ctx = canvas.getContext('2d');

      var path=new Path2D();
      path.arc(75,75,50,0,Math.PI*2,true);  // Outer circle
      path.moveTo(110,75);
      path.arc(75,75,35,0,Math.PI,false);   // Mouth (clockwise)
      path.moveTo(65,65);
      path.arc(60,65,5,0,Math.PI*2,true);   // Left eye
      path.moveTo(95,65);
      path.arc(90,65,5,0,Math.PI*2,true);   // Right eye
      ctx.stroke(path);
    }
  }
</script>

<!--..Moving the pen-->
<script>
  function draw(){
    var canvas = document.getElementById('canvas');
    if (canvas.getContext) {
      var ctx = canvas.getContext('2d');

      var path=new Path2D();
      path.arc(75,75,50,0,Math.PI*2,true);  // Outer circle
      path.moveTo(110,75);
      path.arc(75,75,35,0,Math.PI,false);   // Mouth (clockwise)
      path.moveTo(65,65);
      path.arc(60,65,5,0,Math.PI*2,true);   // Left eye
      path.moveTo(95,65);
      path.arc(90,65,5,0,Math.PI*2,true);   // Right eye
      ctx.stroke(path);
    }
  }
</script>

<!--..Lines-->
<script type="text/javascript">
  function drawShape() {
    // get the canvas element using the DOM
    var canvas = document.getElementById('mycanvas');
    // make sure it doesn't execute when canvas isn't supported
    if (canvas.getContext) {

      // use getContext to use the canvas for drawing
      var ctx = canvas.getContext('2d');

      // filled triangle
      ctx.beginPath();
      ctx.moveTo(25,25);
      ctx.lineTo(105,25);
      ctx.lineTo(25,105);
      ctx.fill();

      // stroked triangle
      ctx.beginPath();
      ctx.moveTo(125,125);
      ctx.lineTo(125,45);
      ctx.lineTo(45,125);
      ctx.closePath();
      ctx.stroke();
    }

    else {
      alert('you need safari or FF 1.5+ to see this demo')
    }
  }
  </script>

<!--..Arcs-->
<script type="text/javascript">
  function drawShape() {
    // get the canvas element using the DOM
    var canvas = document.getElementById('tutorial');
    // make sure it doesn't execute when canvas isn't supported
    if (canvas.getContext) {
      // use getContext to use the canvas for drawing
      var ctx = canvas.getContext("2d");

      for(var i=0; i<4; i++) {
        for(var j=0; j<3; j++) {
          var path = new Path2D();
          var x = 25 + j * 50;  // x coordinate
          var y = 25 + i * 50;  // y coordinate
          var radius = 20;  // arc radius
          var startAngle = 0; // Starting point on circle
          var endAngle = Math.PI + (Math.PI * j)/2; // End point on circle
          var anticlockwise = i%2==0 ? false : true; // clockwise or anticlockwise

          path.arc(x, y, radius, startAngle, endAngle, anticlockwise);

          if (i>1) {
            ctx.fill(path);
          } else {
            ctx.stroke(path);
          }
        }
      }

    }

    else {
      alert('you need safari or FF 1.5+ to see this demo')
    }
  }
</script>

<!--..Bezier and quadratic curves-->
<!--...Quadratic Bezier curves-->
<!--...Cuic Bezier curves-->

<!--..Rectangles-->
<!--..Making combinations-->
<!DOCTYPE HTML>

<html>
  <head>
    <style>
      #test {
        width: 300px;
        height: 300px;
        margin: 0px auto;
      }
    </style>
    <meta charset="utf-8"/>
    <title>canvas tutorial:simple ex.</title>
    <script type="text/javascript">
      function drawShape() {
          // get the canvas element using the DOM
          var canvas = document.getElementById('tutorial');
          // make sure it doesn't execute when canvas isn't supported
          if (canvas.getContext) {
            // use getContext to use the canvas for drawing
            var ctx = canvas.getContext("2d");

            roundedRect(ctx,12,12,150,150,15);
            roundedRect(ctx,19,19,150,150,9);
            roundedRect(ctx,53,53,49,33,10);
            roundedRect(ctx,53,119,49,16,6);
            roundedRect(ctx,135,53,49,33,10);
            roundedRect(ctx,135,119,25,49,10);

            ctx.fillStyle = "yellow";
            ctx.beginPath();
            ctx.arc(37,37,13,Math.PI/7,-Math.PI/7,false);
            ctx.lineTo(31,37);
            ctx.lineTo(50,42);
            ctx.fill();
            ctx.stroke();

            ctx.fillStyle = "black";
            for(var i=0;i<8;i++){
              ctx.fillRect(51+i*16,35,4,4);
            }

            for(i=0;i<6;i++){
              ctx.fillRect(115,51+i*16,4,4);
            }

            for(i=0;i<8;i++){
              ctx.fillRect(51+i*16,99,4,4);
            }

            ctx.fillStyle = "blue";
            ctx.beginPath();
            ctx.moveTo(83,116);
            ctx.lineTo(83,102);
            ctx.bezierCurveTo(83,94,89,88,97,88);
            ctx.bezierCurveTo(105,88,111,94,111,102);
            ctx.lineTo(111,116);
            ctx.lineTo(106.333,111.333);
            ctx.lineTo(101.666,116);
            ctx.lineTo(97,111.333);
            ctx.lineTo(92.333,116);
            ctx.lineTo(87.666,111.333);
            ctx.lineTo(83,116);
            ctx.fill();

            ctx.fillStyle = "red";
            ctx.beginPath();
            ctx.moveTo(91,96);
            ctx.bezierCurveTo(88,96,87,99,87,101);
            ctx.bezierCurveTo(87,103,88,106,91,106);
            ctx.bezierCurveTo(94,106,95,103,95,101);
            ctx.bezierCurveTo(95,99,94,96,91,96);
            ctx.moveTo(103,96);
            ctx.bezierCurveTo(100,96,99,99,99,101);
            ctx.bezierCurveTo(99,103,100,106,103,106);
            ctx.bezierCurveTo(106,106,107,103,107,101);
            ctx.bezierCurveTo(107,99,106,96,103,96);
            ctx.fill();
            //ctx.stroke();

            ctx.fillStyle = "yellow";
            ctx.beginPath();
            ctx.arc(101,102,2,0,Math.PI*2,true);
            ctx.fill();

            ctx.beginPath();
            ctx.arc(93,102,2,0,Math.PI*2,true);
            ctx.fill();

        // a utility function to draw a rectangle with rounded corners.

            function roundedRect(ctx,x,y,width,height,radius){
              ctx.beginPath();
              ctx.moveTo(x,y+radius);
              ctx.lineTo(x,y+height-radius);
              ctx.quadraticCurveTo(x,y+height,x+radius,y+height);
              ctx.lineTo(x+width-radius,y+height);
              ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius);
              ctx.lineTo(x+width,y+radius);
              ctx.quadraticCurveTo(x+width,y,x+width-radius,y);
              ctx.lineTo(x+radius,y);
              ctx.quadraticCurveTo(x,y,x,y+radius);
              ctx.stroke();
            }
        } else {
          alert('you need safari or FF 1.5+ to see this demo')
        }
      }
    </script>
  </head>
  <body id="test" onload="drawShape();">
    <canvas id="tutorial"></canvas>
  </body>
</html>

<!--.Path2D objects-->
  <!--WebGL (Web Graphics Library): JS API for rendering interactive 3D/2D computer graphics within any compatible browser w/o the use of plug-ins
  http://www.nvidia.com/object/what-is-gpu-computing.html
  https://www.google.com/search?q=GPU+accelerated&ie=utf-8&oe=utf-8
  https://en.wikipedia.org/wiki/WebGL
  
  <!--BEGIN reference - http://www.htmlgoodies.com/html5/other/html5-canvas-vs.-svg-choose-the-best-tool-for-the-job.html#fbid=kcicMHQt405-->
  
  <!--END reference - http://www.htmlgoodies.com/html5/other/html5-canvas-vs.-svg-choose-the-best-tool-for-the-job.html#fbid=kcicMHQt405-->
-->
<script>
  Path2D() // constructor returns newly instantiated Path2D obj, optionally with another path as an argument(creates a copy), or optionally with a string consisting of SVG path data
  
  new Path2D(); // empty path object
  new Path2D(path); // copy from another Path2D object
  new Path2D(d); // path from SVG path data
</script>

<!--.Path2D example-->
<script type="text/javascript">
  function drawShape() {
      // get the canvas element using the DOM
      var canvas = document.getElementById('tutorial');
      // make sure it doesn't execute when canvas isn't supported
      if (canvas.getContext) {
        // use getContext to use the canvas for drawing
        var ctx = canvas.getContext("2d");

        var rectangle = new Path2D();
        rectangle.rect(10,10,50,50);

        var circle = new Path2D();
        circle.moveTo(125,35);
        circle.arc(100,35,25,0,2*Math.PI);

        ctx.stroke(rectangle);
        ctx.fill(circle);


      } else {
      alert('you need safari or FF 1.5+ to see this demo')
    }
  }
</script>

<!--.Using SVG paths-->
<script type="text/javascript" src="">
  var canvas = document.getElementById("tutorial");
  var ctx = canvas.getContext("2d");
  
  var p = new Path2D("M10 10 h 80 v 80 h -80 Z")
  ctx.stroke(p);
</script>>

<!--**Applying styles and colors-->
<!--.Colors-->
<script type="text/javascript" src="">
  ctx.fillStyle = "color-name";
  ctx.fillStyle = "color-code";
  ctx.fillStyle = "rgb(#,#,#)";
  ctx.fillStyle = "rgba(#,#,#)";
</script>>

<!--..A fillStyle example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    for (var i=0;i<6;i++) {
      for (var j=0;j<6;j++) {
        ctx.fillStyle = 'rgb(' + Math.floor(255-42.5*i) + ',' + Math.floor(255-42.5*j) + ',0)';
        ctx.fillRect(j*25,i*25,25,25);
      }
    }
  }
</script>>

<!--..A strokeStyle example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    for (var i=0;i<6;i++) {
      for (var j=0;j<6;j++) {
        ctx.strokeStyle = 'rgb(0,' + Math.floor(255-42.5*i) + ',' + Math.floor(255-42.5*j) + ')';
        ctx.beginPath();
        ctx.arc(12.5+j*25,12.5+i*25,10,0,Math.PI*2,true);
        ctx.stroke();
      }
    }
  }
</script>>

<!--.Transparency-->
<!--..A globalAlpha example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    // draw background
    ctx.fillStyle = '#FD0';
    ctx.fillRect(0,0,75,75);
    ctx.fillStyle = '#6C0';
    ctx.fillRect(75,0,75,75);
    ctx.fillStyle = '#09F';
    ctx.fillRect(0,75,75,75);
    ctx.fillStyle = '#F30';
    ctx.fillRect(75,75,75,75);
    ctx.fillStyle = '#FFF';
    
    // set transparency value
    ctx.globalAlpha = 0.2;
    
    // Draw semi transparent circles
    for (i=0;i<7;i++) {
      ctx.beginPath();
      ctx.arc(75,75,10+10*i,0,Math.PI*2,true);
      ctx.fill();
    }
  }
</script>>

<!--..An example using rgba()-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    // draw background
    ctx.fillStyle = 'rgb(255,221,0)';
    ctx.fillRect(0,0,150,37.5);
    ctx.fillStyle = 'rgb(102,204,0)';
    ctx.fillRect(0,37.5,150,37.5);
    ctx.fillStyle = 'rgb(0,153,255)';
    ctx.fillRect(0,75,150,37.5);
    ctx.fillStyle = 'rgb(255,51,0)';
    ctx.fillRect(0,112.5,150,37.5);

    // Draw semi transparent rectangles
    for (i=0;i<10;i++) {
      ctx.fillStyle = 'rgba(255,255,255,'+(i+1)/10+')';
      for (var j=0;j<4;j++){
        ctx.fillRect(5+i*14,5+j*37.5,14,27.5);  
      }
    }
  }
</script>>

<!--..A lineWidth example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    for (var i=0;i<10;i++) {
      ctx.lineWidth = 1+i;
      ctx.beginPath();
      ctx.moveTo(5+i*14,5);
      ctx.lineTo(5+i*14,140);
      ctx.stroke();
    }
  }
</script>

<!--..A lineCap example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    var lineCap = ['butt', 'round', 'square'];
    
    // draw guides
    ctx.strokeStyle = '#09f';
    ctx.beginPath();
    ctx.moveTo(10,10);
    ctx.lineTo(140,10);
    ctx.moveTo(10,140);
    ctx.lineTo(140,140);
    ctx.stroke();
    
    // draw lines
    ctx.strokeStyle = 'black';
    for (var i=0; i<lineCap.length; i++) {
      ctx.lineWidth = 15;
      ctx.lineCap = lineCap[i];
      ctx.beginPath();
      ctx.moveTo(25+i*50,10);
      ctx.lineTo(25+i*50,140);
      ctx.stroke();
    }
  }
</script>

<!--..A lineJoin example-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    var lineJoin= ['round', 'bevel', 'miter'];
    
    ctx.lineWidth = 10;

    for (var i=0; i<lineJoin.length; i++) {
      ctx.lineJoin = lineJoin[i];
      ctx.beginPath();
      ctx.moveTo(-5,5+i*40);
      ctx.lineTo(35,45+i*40);
      ctx.lineTo(75,5+i*40);
      ctx.lineTo(115,45+i*40);
      ctx.lineTo(155,5+i*40);
      ctx.stroke();
    }
  }
</script>

<!--..A demo of the miterLimit property-->
<script type="text/javascript" src="">
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');
    
    // clear canvas
    ctx.clearRect(0,0,150,150);
    
    // draw guides
    ctx.strokeStyle = '#09f';
    ctx.lineWidth = 2;
    ctx.strokeRect(-5,50,160,50);
    
    // set line styles
    ctx.strokeStyle = '#000';
    ctx.lineWidth = 10;
    
    // check input
    if (document.getElementById('miterLimit').value.match(/\d+(\.\d+)?/)) {
      ctx.miterLimit = parseFloat(document.getElementById('miterLimit').value);
    } else {
      alert('value must be a positive number');
    }
    
    // draw lines
    ctx.beginPath();
    ctx.moveTo(0,100);
    
    for (var i=0;i<24;i++) {
      var dy = i%2==0 ? 25 : -25;
      ctx.lineTo(Math.pow(i,1.5)*2,75+dy);
    }
    ctx.stroke();
    return false;
  }
</script>

<!--..Using line dashes-->
<script type="text/javascript" src="">
  var ctx = document.getElementById('tutorial').getContext('2d');
  var offset = 0;
  
  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.setLineDash([4,2]);
    ctx.lineDashOffset = -offset;
    ctx.strokeRect(10,10,100,100);
  }
  
  function march() {
    offset++;
    if (offset>16) {
      offset=0;
    }
    draw();
    setTimeout(march,20);
  }
  
  march();
  
</script>

<!--****************-->
<!--go through each as needed-->
<!--****************-->

<!--*Tranformations-->
<!--.Saving and Restoring State-->
<!--..A save and restore canvas state example-->
<script>
  function draw() {
    var ctx = document.getElementById('canvas').getContext('2d');

    ctx.fillRect(0,0,150,150);   // draw rectangle with default settings
    ctx.save();   // save the default state

    ctx.fillStyle = '#09F';   // make changes to the settings
    ctx.fillRect(15,15,120,120);   // draw rectangle with new settings

    ctx.save();   // save current state
    ctx.fillStyle = '#FFF';   // make changes to the settings
    ctx.globalAlpha = 0.5;  // set transparency
    ctx.fillRect(30,30,90,90);   // draw rectangle with new settings
    
    ctx.restore();    // restore previous state
    ctx.fillRect(45,45,60,60);  // draw rectangle with restored settings
    
    ctx.restore();    // restore previous state
    ctx.fillRect(60,60,30,30);  // draw rectangle with restored settings
  }
</script>

<!--.Translating-->
<!--..A translate example-->
<script>
  function draw() {
    var ctx = document.getElementById('canvas').getContext('2d');

    for (var i=0;i<3;i++) {
      for (var j=0;j<3;j++) {
        ctx.save();   // save the default state
        ctx.fillStyle = 'rgb('+(51*i)+','+(255-51*i)+',255)';   // make changes to the settings
        ctx.translate(10+j*50,10+i*50);
        ctx.fillRect(0,0,25,25);   // draw rectangle with new settings
        ctx.restore();
      }  
    }
  }
</script>

<!--.Rotating-->
<!--..A rotate example-->
<script>
  function draw() {
    var ctx = document.getElementById('canvas').getContext('2d');

    // left rectangles, rotate from canvas origin 
    ctx.save();   // save the default state
    // blue rect
    ctx.fillStyle = '#0995DD';   // set the settings
    ctx.fillRect(30,30,100,100);
    ctx.rotate((Math.PI/180)*25);
    // grey rect
    ctx.fillStyle = '#4D4E53';   // set the settings
    ctx.fillRect(30,30,100,100);
    ctx.restore();    // restore previous state
    
    // right rectangles, rotate from rectangular center 
    ctx.save();   // save the default state
    // draw blue rect
    ctx.fillStyle = '#0995DD';
    ctx.fillRect(150,30,100,100);
    
    ctx.translate(200,80);  // translate to rectangular center
                            // x = x + 0.5 * width
                            // y = y + 0.5 * height
    ctx.rotate((Math.PI/180)*25); // rotate
    ctx.translate(-200,-80);  // translate back
    
    // drae grey rect
    ctx.fillStyle = '#4D4E53';
    ctx.fillRect(150,30,100,100);
  }
</script>

<!--.Scaling-->
<!--..A scale example-->
<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

    // draw simple rectangel, but scale it 
    ctx.save();   // save the default state
    ctx.scale(10,3);
    ctx.fillRect(1,10,10,10);
    ctx.restore();    // restore previous state
    
    // mirror horizontally 
    ctx.scale(-1,1);
    ctx.font = '48px serif';
    ctx.fillText("MDN",-135,120);
  }
</script>

<!--.Transform-->
<!--..A scale example-->
<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

    var sin = Math.sin(Math.PI/6);
    var cos = Math.cos(Math.PI/6);
    ctx.translate(100,100);
    var c=0;
    for(var i=0; i<=12; i++) {
      c = Math.floor(255 / 12 * i);
      ctx.fillStyle = "rgb(" + c + "," + c + "," + c + ")";
      ctx.fillRect(0,0,100,10);
      ctx.transform(cos,sin,-sin,cos,0,0);
    }
    ctx.setTransform(-1,0,0,1,100,100);
    ctx.fillStyle = "rgba(255,128,255,0.5)";
    ctx.fillRect(0,50,100,100);
  }
</script>

<!-- END reference- https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial -->

<!-->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>-->

<!-- .HTML5 Canvas Basics (cont.)-->
<!-- ..saving and restoring canvas state -->

<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

    ctx.save();
    ctx.fillStyle = 'blue';
    ctx.translate(10,10);
    ctx.fillRect(0,0,10,10);
    ctx.restore();
    
    ctx.rotate(Math.PI/4);
    ctx.translate(50,0);
    ctx.fillStyle = 'green';
    ctx.fillRect(0,0,10,10);
  }
</script>

////////////////////////////////////////

<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

    ctx.fillStyle = 'blue';
    ctx.fillRect(0,0,50,50);
    
    ctx.fillStyle = 'green';
    ctx.fillRect(100,100,10,10);
    
    ctx.fillStyle = 'green';
    ctx.fillRect(200,10,20,20);
  }
</script>

<!--OR-->

<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

    ctx.fillStyle = 'blue';
    ctx.fillRect(0,0,50,50);
    // save state with blue fill
    ctx.save();
    
    ctx.fillStyle = 'green';
    ctx.fillRect(100,100,10,10);
    // restore to blue fill
    ctx.restore();

    ctx.fillRect(200,10,20,20);
  }
</script>

<!-- ..meme maker programming quiz -->
<!-- BEGIN reference- http://devhammer.net/blog/exploring-html5-canvas-part-4-transformations/ -->

<script>
  function draw() {
    var ctx = document.getElementById('tutorial').getContext('2d');

      function renderGrid(gridPixelSize,color) {
        ctx.save();
        ctx.lineWidth = 0.5;
        ctx.strokeStyle = color;
        // horizontal grid lines
        for(var i=0; i<=tutorial.height; i=i+gridPixelSize) {
          ctx.beginPath();
          ctx.moveTo(0,i);
          ctx.lineTo(tutorial.width, i);
          ctx.closePath();
          ctx.stroke();
        }
        // vertical grid lines
        for(var j=0; j<=tutorial.height; j=j+gridPixelSize) {
          ctx.beginPath();
          ctx.moveTo(j,0);
          ctx.lineTo(j, tutorial.height);
          ctx.closePath();
          ctx.stroke();
        }
        ctx.restore();
      }
      
      ctx.save(); // trans
      renderGrid(20, "red"); // to keep grid in same place
      //ctx.scale(2,2); // scale w large grid
      ctx.translate(100,75); // trans
      ctx.rotate(45*Math.PI/180);
      ctx.translate(-100,-75); // trans
      renderGrid(20, "green");
      //ctx.transform(1,0,1,1,0,0);
      ctx.setTransform(1,0,1,1,0,0);
      //renderGrid(20, "green");
      //ctx.scale(2,2); // scale w small grid
      ctx.beginPath();
      ctx.fillStyle = 'yellow';
      ctx.strokeStyle = 'blue';
      ctx.arc(100,75,50,0.25*Math.PI,1.75*Math.PI);
      ctx.lineTo(100,75);
      ctx.lineTo(135,110);
      ctx.stroke();
      ctx.fill();
      ctx.restore();
  }
</script>

<!-- ..saving and restoring the current context -->

<!-- END reference- http://devhammer.net/blog/exploring-html5-canvas-part-4-transformations/ -->

<!-->>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>-->
<script>
var ctx = document.getElementById('tutorial').getContext('2d');

      ctx.save(); // trans

      ctx.font = "bold 36px impact"
      ctx.fillStyle = 'white';
      ctx.fillText("whats poppin!", 50, 40);
      ctx.strokeStyle = 'black';
      ctx.lineWidth = 3;
      ctx.strokeText("whats poppin!", 50, 40);
      
      ctx.beginPath();
      ctx.fillStyle = 'yellow';
      ctx.arc(100,100,50,0.25*Math.PI,1.75*Math.PI);
      ctx.lineTo(100,100);
      ctx.lineTo(135,135);
      ctx.stroke();
      ctx.fill();

      ctx.restore();
</script>>

////////////////////////////

<!-- BEGIN reference- https://gist.github.com/jwill/7482ccf83ccf869f3302 -->
<!DOCTYPE html>
<html>
<head>
  <title>mememaker-simple</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="mobile-web-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <style type="text/css">
  /*is the type necessary?*/
    #image-container {
      display: flex;
    }
  </style>
</head>

<body>
  <div>
    <input type="file" id="file" />
  </div>
  <div id="image-container">
    <canvas width="500" height="500"></canvas>
    <div>
      <span>top line:</span><br/>
      <input id="topLineText" type="text"><br/>
      <span>bottom line:</span><br/>
      <input id="bottomLineText" type="text"><br/>
      <button id="saveBtn">save</button>
    </div>
  </div>
  <script>
    function textChangeListener (evt) {
      var id = evt.target.id;
      var text = evt.target.value;
      
      if(id == "topLineText") {
        window.topLineText = text;
      } else {
        window.bottomLineText = text;
      }
      
      redrawMeme(window.imageSrc, window.topLineText, window.bottomLineText);
    }
    
    function redrawMeme(image, topLine, bottomLine) {
      // get Canvas2DContext
      var canvas = document.querySelector('canvas');
      var ctx = canvas.getContext("2d")
// MY CODE HERE ///////////////////////////////////////////////////
        if (image != null)
          ctx.drawImage(image, 0, 0, canvas.width, canvas.height);
          
        // text attribute
        ctx.font = '30pt impact';
        ctx.textAlign = 'center';
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 3;
        ctx.fillStyle = 'white';
        
        if(topLine != null) {
          ctx.fillText(topLine, canvas.width / 2, 40);
          ctx.strokeText(topLine, canvas.width / 2, 40);
        }
        
        if(bottomLine != null) {
          ctx.fillText(bottomLine, canvas.width / 2, canvas.height - 20);
          ctx.strokeText(bottomLine, canvas.width / 2, canvas.height - 20);
        }
    }
    
    function saveFile() {
      window.open(document.querySelector('canvas').toDataURL());
    }
    
    function handleFileSelect(evt) {
      var canvasWidth = 500;
      var canvasHeight = 500;
      var file = evt.target.files[0];
      
      var reader = new FileReader();
      reader.onload = function(fileObject) {
        var data = fileObject.target.result;
        
        // create an image object
        var image = new Image();
        image.onload = function() {
          
          window.imageSrc = this;
          redrawMeme(window.imageSrc, null, null);
        }
        
        // set image data to background image
        image.src = data;
        console.log(fileObject.target.result);
      };
      reader.readAsDataURL(file)
    }
    
    window.topLineText = "";
    window.bottomLineText = "";
    var input1 = document.getElementById('topLineText');
    var input2 = document.getElementById('bottomLineText');
    input1.oninput = textChangeListener;
    input2.oninput = textChangeListener;
    document.getElementById('file').addEventListener('change', handleFileSelect, false);
    document.querySelector('button').addEventListener('click', saveFile, false);
  </script>
</body>
</html>

<!-- END reference- https://gist.github.com/jwill/7482ccf83ccf869f3302 -->

<!--codepen-->
<!--HTML-->
<canvas id="tutorial" width="200" height="200"></canvas>
<!--CSS  -->
canvas {
  border: solid 1px #FF0000;
}

<!--TEST PAGE outline-->
<!DOCTYPE HTML>

<html>
  <head>
    <style>
      #test {
        width: 300px;
        height: 300px;
        margin: 0px auto;
      }
    </style>
    <meta charset="utf-8"/>
    <title>canvas tutorial:simple ex.</title>
    <script type="text/javascript">
      function drawShape() {
          // get the canvas element using the DOM
          var canvas = document.getElementById('tutorial');
          // make sure it doesn't execute when canvas isn't supported
          if (canvas.getContext) {
            // use getContext to use the canvas for drawing
            var ctx = canvas.getContext("2d");


          } else {
          alert('you need safari or FF 1.5+ to see this demo')
        }
      }
    </script>
  </head>
  <body id="test" onload="drawShape();">
    <canvas id="tutorial"></canvas>
  </body>
</html>




























